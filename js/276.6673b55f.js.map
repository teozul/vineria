{"version":3,"file":"js/276.6673b55f.js","mappings":"iOAGA,MAAMA,EAAa,CAAEC,MAAO,kBACtBC,EAAa,CACjBC,IAAK,EACLF,MAAO,qBAEHG,EAAa,CACjBD,IAAK,EACLF,MAAO,iBAEHI,EAAa,CAAEJ,MAAO,QAS5B,OAA4BK,EAAAA,EAAAA,IAAiB,CAC3CC,OAAQ,eACRC,KAAAA,CAAMC,GCYN,MAAMC,GAASC,EAAAA,EAAAA,MACTC,GAAQC,EAAAA,EAAAA,MACRC,EAAKF,EAAMG,OAAOD,GAElBE,GAAYC,EAAAA,EAAAA,IAA6B,MACzCC,GAAUD,EAAAA,EAAAA,KAAI,GACdE,GAAQF,EAAAA,EAAAA,IAAmB,OAGjCG,EAAAA,EAAAA,KAAUC,UACR,IACE,MAAMC,QAAcC,EAAAA,GAAYC,aAAaV,GACzCQ,EACFN,EAAUS,MAAQH,EAElBH,EAAMM,MAAQ,+B,CAEhB,MAAOC,GACPC,QAAQR,MAAM,4BAA6BO,GAC3CP,EAAMM,MAAQ,oD,CACd,QACAP,EAAQO,OAAQ,C,KAKpB,MAAMG,EAAkBP,UACtB,UACQE,EAAAA,GAAYM,YAAYC,GAC9BpB,EAAOqB,KAAK,CAAEC,KAAM,SAAUjB,OAAQ,CAAED,GAAIgB,EAAahB,K,CACzD,MAAOY,GACPC,QAAQR,MAAM,6BAA8BO,GAC5CO,MAAM,wE,GAKJC,EAASA,KACbxB,EAAOyB,MAAM,EDPjB,MAAO,CAACC,EAAUC,MACRC,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAoB,MAAOvC,EAAY,CAC3DqC,EAAO,KAAOA,EAAO,IAAKG,EAAAA,EAAAA,IAAoB,MAAO,CAAEvC,MAAO,eAAiB,EAC7EuC,EAAAA,EAAAA,IAAoB,KAAM,KAAM,6BAC9B,IACHtB,EAAQO,QACJa,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAoB,MAAOrC,EAAYmC,EAAO,KAAOA,EAAO,GAAK,EAC9EG,EAAAA,EAAAA,IAAoB,IAAK,KAAM,iCAAkC,OAElErB,EAAMM,QACJa,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAoB,MAAOnC,EAAY,EACpDoC,EAAAA,EAAAA,IAAoB,MAAOnC,EAAY,CACrCgC,EAAO,KAAOA,EAAO,IAAKG,EAAAA,EAAAA,IAAoB,KAAM,KAAM,SAAU,KACpEA,EAAAA,EAAAA,IAAoB,IAAK,MAAMC,EAAAA,EAAAA,IAAiBtB,EAAMM,OAAQ,IAC9De,EAAAA,EAAAA,IAAoB,SAAU,CAC5BE,QAASR,EACTjC,MAAO,OACN,kBAGNqC,EAAAA,EAAAA,OAAcK,EAAAA,EAAAA,IAAaC,EAAAA,EAAU,CACpCzC,IAAK,EACLa,UAAWA,EAAUS,MACrBoB,QAAQ,EACRC,OAAQlB,EACRmB,SAAUb,GACT,KAAM,EAAG,CAAC,iBAGvB,I,UEzFA,MAAMc,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://vineria/./src/views/EditWineView.vue?35d0","webpack://vineria/./src/views/EditWineView.vue","webpack://vineria/./src/views/EditWineView.vue?50e2"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"edit-wine-view\" }\nconst _hoisted_2 = {\n  key: 0,\n  class: \"loading-indicator\"\n}\nconst _hoisted_3 = {\n  key: 1,\n  class: \"error-message\"\n}\nconst _hoisted_4 = { class: \"card\" }\n\nimport { ref, onMounted } from 'vue';\n  import { useRouter, useRoute } from 'vue-router';\n  import WineForm from '@/components/WineForm.vue';\n  import { WineTastingSheet } from '@/models/WineTastingSheet';\n  import { dataService } from '@/services/DataService';\n  \n  \nexport default /*@__PURE__*/_defineComponent({\n  __name: 'EditWineView',\n  setup(__props) {\n\n  const router = useRouter();\n  const route = useRoute();\n  const id = route.params.id as string;\n  \n  const wineSheet = ref<WineTastingSheet | null>(null);\n  const loading = ref(true);\n  const error = ref<string | null>(null);\n  \n  // Load the wine sheet on component mount\n  onMounted(async () => {\n    try {\n      const sheet = await dataService.getSheetById(id);\n      if (sheet) {\n        wineSheet.value = sheet;\n      } else {\n        error.value = 'Wine tasting sheet not found.';\n      }\n    } catch (e) {\n      console.error('Error loading wine sheet:', e);\n      error.value = 'There was an error loading the wine tasting sheet.';\n    } finally {\n      loading.value = false;\n    }\n  });\n  \n  // Update the wine tasting sheet\n  const updateWineSheet = async (updatedSheet: WineTastingSheet) => {\n    try {\n      await dataService.updateSheet(updatedSheet);\n      router.push({ name: 'detail', params: { id: updatedSheet.id } });\n    } catch (e) {\n      console.error('Error updating wine sheet:', e);\n      alert('There was an error updating the wine tasting sheet. Please try again.');\n    }\n  };\n  \n  // Go back to previous page\n  const goBack = () => {\n    router.back();\n  };\n  \nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _cache[2] || (_cache[2] = _createElementVNode(\"div\", { class: \"page-header\" }, [\n      _createElementVNode(\"h1\", null, \"Edit Wine Tasting Sheet\")\n    ], -1)),\n    (loading.value)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, _cache[0] || (_cache[0] = [\n          _createElementVNode(\"p\", null, \"Loading wine tasting sheet...\", -1)\n        ])))\n      : (error.value)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [\n            _createElementVNode(\"div\", _hoisted_4, [\n              _cache[1] || (_cache[1] = _createElementVNode(\"h3\", null, \"Error\", -1)),\n              _createElementVNode(\"p\", null, _toDisplayString(error.value), 1),\n              _createElementVNode(\"button\", {\n                onClick: goBack,\n                class: \"btn\"\n              }, \"Go Back\")\n            ])\n          ]))\n        : (_openBlock(), _createBlock(WineForm, {\n            key: 2,\n            wineSheet: wineSheet.value,\n            isEdit: true,\n            onSave: updateWineSheet,\n            onCancel: goBack\n          }, null, 8, [\"wineSheet\"]))\n  ]))\n}\n}\n\n})","<template>\n    <div class=\"edit-wine-view\">\n      <div class=\"page-header\">\n        <h1>Edit Wine Tasting Sheet</h1>\n      </div>\n      \n      <div v-if=\"loading\" class=\"loading-indicator\">\n        <p>Loading wine tasting sheet...</p>\n      </div>\n      \n      <div v-else-if=\"error\" class=\"error-message\">\n        <div class=\"card\">\n          <h3>Error</h3>\n          <p>{{ error }}</p>\n          <button @click=\"goBack\" class=\"btn\">Go Back</button>\n        </div>\n      </div>\n      \n      <WineForm \n        v-else \n        :wineSheet=\"wineSheet\" \n        :isEdit=\"true\" \n        @save=\"updateWineSheet\" \n        @cancel=\"goBack\" \n      />\n    </div>\n  </template>\n  \n  <script setup lang=\"ts\">\n  import { ref, onMounted } from 'vue';\n  import { useRouter, useRoute } from 'vue-router';\n  import WineForm from '@/components/WineForm.vue';\n  import { WineTastingSheet } from '@/models/WineTastingSheet';\n  import { dataService } from '@/services/DataService';\n  \n  const router = useRouter();\n  const route = useRoute();\n  const id = route.params.id as string;\n  \n  const wineSheet = ref<WineTastingSheet | null>(null);\n  const loading = ref(true);\n  const error = ref<string | null>(null);\n  \n  // Load the wine sheet on component mount\n  onMounted(async () => {\n    try {\n      const sheet = await dataService.getSheetById(id);\n      if (sheet) {\n        wineSheet.value = sheet;\n      } else {\n        error.value = 'Wine tasting sheet not found.';\n      }\n    } catch (e) {\n      console.error('Error loading wine sheet:', e);\n      error.value = 'There was an error loading the wine tasting sheet.';\n    } finally {\n      loading.value = false;\n    }\n  });\n  \n  // Update the wine tasting sheet\n  const updateWineSheet = async (updatedSheet: WineTastingSheet) => {\n    try {\n      await dataService.updateSheet(updatedSheet);\n      router.push({ name: 'detail', params: { id: updatedSheet.id } });\n    } catch (e) {\n      console.error('Error updating wine sheet:', e);\n      alert('There was an error updating the wine tasting sheet. Please try again.');\n    }\n  };\n  \n  // Go back to previous page\n  const goBack = () => {\n    router.back();\n  };\n  </script>\n  \n  <style scoped>\n  .edit-wine-view {\n    padding-bottom: 2rem;\n  }\n  \n  .page-header {\n    margin-bottom: 2rem;\n  }\n  \n  .loading-indicator, .error-message {\n    display: flex;\n    justify-content: center;\n    padding: 2rem 0;\n  }\n  \n  .error-message .card {\n    max-width: 600px;\n    text-align: center;\n  }\n  \n  .error-message h3 {\n    color: #721c24;\n    margin-bottom: 1rem;\n  }\n  \n  .error-message p {\n    margin-bottom: 1.5rem;\n  }\n  </style>","import script from \"./EditWineView.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./EditWineView.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./EditWineView.vue?vue&type=style&index=0&id=f51deb2a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-f51deb2a\"]])\n\nexport default __exports__"],"names":["_hoisted_1","class","_hoisted_2","key","_hoisted_3","_hoisted_4","_defineComponent","__name","setup","__props","router","useRouter","route","useRoute","id","params","wineSheet","ref","loading","error","onMounted","async","sheet","dataService","getSheetById","value","e","console","updateWineSheet","updateSheet","updatedSheet","push","name","alert","goBack","back","_ctx","_cache","_openBlock","_createElementBlock","_createElementVNode","_toDisplayString","onClick","_createBlock","WineForm","isEdit","onSave","onCancel","__exports__"],"sourceRoot":""}